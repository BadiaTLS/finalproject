{% extends "../students/student_index.html" %}

{% block template %}
<form action="{% url 'student_preferences' %}" method="POST" class="mx-auto col-10 col-md-8 col-lg-6 bootstrap">
    {% csrf_token %}
    <div class="form-row">
        <div>
            <input class="form-check-input" type="radio" name="take" id="take" value="take" checked>
            <label class="form-check-label" for="take">
                Makan
            </label>
        </div>
        <br/>
        <div>
            <label for="start_range">Start Range</label>
            <input type="time" class="form-control" id="start_range" placeholder="{{ current_hour }}" name="start_range" required>
        </div>
        <div>
            <label for="end_range">End Range</label>
            <input type="time" class="form-control" id="end_range" name="end_range" required>
        </div>
        <br/>
        <br/>
        <div>
            <input class="form-check-input" type="radio" name="take" id="nottake" value="nottake">
            <label class="form-check-label" for="nottake">
                Tidak Makan
            </label>
        </div>
    </div>
    <br/>
    <input type="submit" value="Submit" class="btn btn-primary">
</form>
{% endblock %}

{% block script %}
<script>
    // Get the radio buttons and time input fields
    const takeRadio = document.getElementById("take");
    const nottakeRadio = document.getElementById("nottake");
    const startRangeInput = document.getElementById("start_range");
    const endRangeInput = document.getElementById("end_range");

    // Add event listeners to the radio buttons
    takeRadio.addEventListener("change", toggleTimeInputs);
    nottakeRadio.addEventListener("change", toggleTimeInputs);

    // Function to toggle the disabled attribute of time inputs
    function toggleTimeInputs() {
        const isTakeChecked = takeRadio.checked;
        startRangeInput.disabled = !isTakeChecked;
        endRangeInput.disabled = !isTakeChecked;
    }

    // Call the function initially to set the initial state
    toggleTimeInputs();
</script>
{% endblock %}